<!DOCTYPE html>
<meta charset="utf-8">
<style>
.mainBars{
  font-size:12px;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}
.mainBars rect{
  shape-rendering: auto;
  fill-opacity: 0;
  stroke-width: 0.5px;
  stroke: rgb(0, 0, 0);
  stroke-opacity: 0;
}
.subBars{
	shape-rendering:crispEdges;
}
.edges{
	stroke:none;
	fill-opacity:0.5;
}
</style>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="../../Scripts/viz.v1.1.0.min.js"></script>
<script>

var data=[['Careers_and_Jobs_Positive', 'SectsShop', 6.236865342891441e-05], ['Careers_and_Jobs_Negative', 'AudiKhalid', 0.0016024514394654954], ['Careers_and_Jobs_Positive', 'm0onlightnoona', 4.8367622421505856e-06], ['Careers_and_Jobs_Positive', 'eviltofu', 1.2845955427841424e-05], ['Careers_and_Jobs_Positive', 'nrxrzlhzn', 1.5388559930968808e-05], ['Careers_and_Jobs_Negative', '_kgyj', 0.004362775511880583], ['Careers_and_Jobs_Positive', 'caprichor', 0.00010260442776908434], ['Careers_and_Jobs_Positive', 'shaunymacattack', 2.7379851972117297e-06], ['Careers_and_Jobs_Positive', 'officiallykumar', 2.2809381421866765e-06], ['Careers_and_Jobs_Positive', 'NLWMHB', 0.00031174763056059985], ['Careers_and_Jobs_Positive', 'rose3ina', 2.522155848719801e-06], ['Careers_and_Jobs_Positive', 'seanlimjkd', 1.3850298707427045e-05], ['Careers_and_Jobs_Positive', 'Lucanesque', 1.0802708090739131e-07], ['Careers_and_Jobs_Positive', 'PGJobs', 0.001141672414090285], ['Careers_and_Jobs_Positive', 'Admin_niksKtSg5', 8.982439838717688e-05], ['Careers_and_Jobs_Positive', 'y561994', 9.48589599629879e-06], ['Careers_and_Jobs_Positive', 'crosspinky', 4.0242331559098135e-05], ['Tweets_About_Love_Positive', 'AudiKhalid', 0.0011065575700662626], ['Tweets_About_Love_Positive', 'm0onlightnoona', 0.0032020490067190925], ['Tweets_About_Love_Positive', 'nrxrzlhzn', 0.0008304463924185312], ['Tweets_About_Love_Positive', '_kgyj', 0.0013019464512507442], ['Tweets_About_Love_Positive', 'caprichor', 0.0021700707050874143], ['Tweets_About_Love_Positive', 'shaunymacattack', 0.005540089219368602], ['Tweets_About_Love_Positive', 'mochibaekx', 0.00023654468818603641], ['Tweets_About_Love_Positive', 'NLWMHB', 0.0013216914647534625], ['Tweets_About_Love_Positive', 'rose3ina', 0.0030225368952328693], ['Tweets_About_Love_Positive', 'Lucanesque', 0.0017977313552594218], ['Tweets_About_Love_Positive', 'Admin_niksKtSg5', 0.0005916483741173781], ['Tweets_About_Love_Positive', 'crosspinky', 0.00129084725377173], ['Tweets_About_Life_Events_Positive', 'SectsShop', 0.004048030403748214], ['Tweets_About_Life_Events_Negative', 'JenanJamal', 0.0010476261688067401], ['Tweets_About_Life_Events_Positive', 'AudiKhalid', 0.0072998823380074655], ['Tweets_About_Life_Events_Positive', 'm0onlightnoona', 0.0011347888582864975], ['Tweets_About_Life_Events_Positive', 'eviltofu', 0.0007475432125850991], ['Tweets_About_Life_Events_Positive', 'nrxrzlhzn', 0.007133440504188988], ['Tweets_About_Life_Events_Positive', '_kgyj', 0.006950762061303762], ['Tweets_About_Life_Events_Positive', 'caprichor', 0.0028928168480190143], ['Tweets_About_Life_Events_Positive', 'shaunymacattack', 0.004017950037438137], ['Tweets_About_Life_Events_Positive', 'officiallykumar', 0.007374219878975039], ['Tweets_About_Life_Events_Positive', 'mochibaekx', 0.0021644426750311654], ['Tweets_About_Life_Events_Positive', 'NLWMHB', 0.0009187874672653744], ['Tweets_About_Life_Events_Positive', 'rose3ina', 0.004844329079528037], ['Tweets_About_Life_Events_Positive', 'bakchormeeboy', 0.0040787049901627416], ['Tweets_About_Life_Events_Positive', 'seanlimjkd', 0.0021198932918749247], ['Tweets_About_Life_Events_Positive', 'Lucanesque', 0.00017656400045399265], ['Tweets_About_Life_Events_Positive', 'PGJobs', 0.0003110040333862716], ['Tweets_About_Life_Events_Positive', 'Admin_niksKtSg5', 0.002846400084549427], ['Tweets_About_Life_Events_Positive', 'Lihiinnnn', 0.0003484661463668355], ['Tweets_About_Life_Events_Negative', 'hoserene', 0.00025755349060860956], ['Tweets_About_Life_Events_Positive', 'y561994', 0.0003590624969433171], ['Tweets_About_Life_Events_Negative', 'crosspinky', 0.007005466598589021], ['Tweets_About_Life_Events_Positive', 'CYingxuan', 0.0009796025700188663], ['Clubing_and_Dancing_Positive', 'crosspinky', 0.00041551642488787954], ['Entertainment_and_Photography_Positive', 'JenanJamal', 0.0003299546041233709], ['Entertainment_and_Photography_Negative', 'AudiKhalid', 0.000433922822039671], ['Entertainment_and_Photography_Positive', 'caprichor', 0.00022268513079117905], ['Entertainment_and_Photography_Positive', 'shaunymacattack', 0.0004174915141594744], ['Entertainment_and_Photography_Positive', 'officiallykumar', 3.488339497686784e-05], ['Entertainment_and_Photography_Positive', 'mochibaekx', 0.00024289979415138087], ['Entertainment_and_Photography_Positive', 'seanlimjkd', 0.004055925964657125], ['Entertainment_and_Photography_Positive', 'Admin_niksKtSg5', 0.0004252131497859791], ['Entertainment_and_Photography_Positive', 'CYingxuan', 6.070715765218426e-05], ['Birthdays_and_Anniversaries_Positive', 'AudiKhalid', 0.005331156835057075], ['Birthdays_and_Anniversaries_Positive', 'm0onlightnoona', 0.0031997601516172963], ['Birthdays_and_Anniversaries_Positive', '_kgyj', 0.003372892504733033], ['Birthdays_and_Anniversaries_Negative', 'caprichor', 0.0008121092184468894], ['Birthdays_and_Anniversaries_Positive', 'officiallykumar', 0.003876729466964097], ['Birthdays_and_Anniversaries_Positive', 'rose3ina', 0.0002677690616386697], ['Birthdays_and_Anniversaries_Positive', 'bakchormeeboy', 9.668468358876532e-05], ['Birthdays_and_Anniversaries_Positive', 'Admin_niksKtSg5', 0.0001595210254201638], ['Travelling_around_Singapore_Positive', 'JenanJamal', 0.000146378169778932], ['Travelling_around_Singapore_Negative', 'eviltofu', 6.78452200293144e-05], ['Travelling_around_Singapore_Negative', 'nrxrzlhzn', 0.00010730869003903744], ['Travelling_around_Singapore_Positive', 'shaunymacattack', 9.020467183461624e-05], ['Travelling_around_Singapore_Negative', 'mochibaekx', 0.003182156777776173], ['Travelling_around_Singapore_Positive', 'rose3ina', 0.002746191133070285], ['Travelling_around_Singapore_Negative', 'bakchormeeboy', 1.2767466635448186e-05], ['Travelling_around_Singapore_Negative', 'Lucanesque', 0.0029702988889792428], ['Travelling_around_Singapore_Negative', 'Admin_niksKtSg5', 0.00018453323510357118], ['Travelling_around_Singapore_Positive', 'CYingxuan', 0.00546369719862593], ['Everyday_Greetings_Positive', 'SectsShop', 0.024412779474353184], ['Everyday_Greetings_Positive', 'JenanJamal', 0.018403039058552853], ['Everyday_Greetings_Positive', 'AudiKhalid', 0.016651400617234354], ['Everyday_Greetings_Positive', 'm0onlightnoona', 0.051332650441403636], ['Everyday_Greetings_Positive', 'eviltofu', 0.0370874020781338], ['Everyday_Greetings_Positive', 'nrxrzlhzn', 0.04142963016106253], ['Everyday_Greetings_Positive', '_kgyj', 0.030323471164702742], ['Everyday_Greetings_Positive', 'caprichor', 0.0071830935236422465], ['Everyday_Greetings_Positive', 'shaunymacattack', 0.08079892322733417], ['Everyday_Greetings_Positive', 'officiallykumar', 0.02860044139107981], ['Everyday_Greetings_Positive', 'mochibaekx', 0.026902385063825883], ['Everyday_Greetings_Positive', 'NLWMHB', 0.04855981409694684], ['Everyday_Greetings_Positive', 'rose3ina', 0.08143203057883686], ['Everyday_Greetings_Positive', 'bakchormeeboy', 0.03661526964631805], ['Everyday_Greetings_Positive', 'seanlimjkd', 0.04785457100855109], ['Everyday_Greetings_Positive', 'deideixx_', 0.0006769133192082428], ['Everyday_Greetings_Positive', 'Lucanesque', 0.08505794057075691], ['Everyday_Greetings_Positive', 'PGJobs', 0.02871274533792352], ['Everyday_Greetings_Positive', 'Admin_niksKtSg5', 0.0380741947297694], ['Everyday_Greetings_Positive', 'hoserene', 0.012008239337590987], ['Everyday_Greetings_Positive', 'y561994', 0.012710725478201622], ['Everyday_Greetings_Positive', 'crosspinky', 0.04893083153008192], ['Everyday_Greetings_Positive', 'CYingxuan', 0.04630731652667999]];

var color ={Birthdays_and_Anniversaries_Negative:"#8c001a", Birthdays_and_Anniversaries_Positive:"#8ca93e",Careers_and_Jobs_Negative:"#8c001a",Careers_and_Jobs_Positive: "#8ca93e",Clubing_and_Dancing_Negative:"8c001a",Clubing_and_Dancing_Positive:"#8ca93e",Entertainment_and_Photography_Negative:"#8c001a",Entertainment_and_Photography_Positive:"#8ca93e",Everyday_Greetings_Positive:"#8ca93e",Travelling_around_Singapore_Negative:"#8c001a",Travelling_around_Singapore_Positive:"#8ca93e",Tweets_About_Life_Events_Negative:"#8c001a",Tweets_About_Life_Events_Positive:"#8ca93e",Tweets_About_Love_Negative:"#8c001a",Tweets_About_Love_Positive:"#8ca93e"};
var svg = d3.select("body").append("svg").attr("width", 800).attr("height", 450);
var g = svg.append("g").attr("transform","translate(300,0)");

var bp=viz.bP()
		.data(data)
		.min(10)
		.pad(1)
		.height(450)
		.width(300)
		.barSize(35)
		.fill(d=>color[d.primary]);
			
g.call(bp);

g.selectAll(".mainBars")
	.on("mouseover",mouseover)
	.on("mouseout",mouseout)

g.selectAll(".mainBars").append("text").attr("class","label")
	.attr("x",d=>(d.part=="primary"? -40: 40))
	.attr("y",d=>+6)
	.text(d=>d.key)
	.attr("text-anchor",d=>(d.part=="primary"? "end": "start"));
	
g.selectAll(".mainBars").append("text").attr("class","perc")
	.attr("x",d=>(d.part=="primary"? -280: 180))
	.attr("y",d=>+6)
	.text(function(d){ return d3.format("0.0%")(d.percent)})
	.attr("text-anchor",d=>(d.part=="primary"? "end": "start"));

function mouseover(d){
	bp.mouseover(d);
	g.selectAll(".mainBars")
	.select(".perc")
	.text(function(d){ return d3.format("0.0%")(d.percent)})
}
function mouseout(d){
	bp.mouseout(d);
	g.selectAll(".mainBars")
		.select(".perc")
	.text(function(d){ return d3.format("0.0%")(d.percent)})
}
d3.select(self.frameElement).style("height", "450px");
</script>
</body>
</html>