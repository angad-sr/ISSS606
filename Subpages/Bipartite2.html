<!DOCTYPE html>
<meta charset="utf-8">
<style>
.mainBars{
  font-size:12px;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}
.mainBars rect{
  shape-rendering: auto;
  fill-opacity: 0;
  stroke-width: 0.5px;
  stroke: rgb(0, 0, 0);
  stroke-opacity: 0;
}
.subBars{
	shape-rendering:crispEdges;
}
.edges{
	stroke:none;
	fill-opacity:0.5;
}
</style>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="../../Scripts/viz.v1.1.0.min.js"></script>
<script>

var data=[['Careers_and_Jobs_Negative', 'praveshoo8', 0.004895626788850074], ['Careers_and_Jobs_Positive', 'MsBonVivantSG', 5.869199453486053e-06], ['Careers_and_Jobs_Positive', 'Hiroyukichige', 7.607869830349519e-05], ['Careers_and_Jobs_Negative', 'zafarafaz', 0.0005885918345407035], ['Careers_and_Jobs_Positive', 'Farna', 1.0570372546983638e-05], ['Careers_and_Jobs_Positive', 'ZulsubvertHQ', 1.5949992543105973e-06], ['Careers_and_Jobs_Negative', 'Holrr_app', 0.002438905591688887], ['Careers_and_Jobs_Positive', 'Irfvvns', 5.221967798799066e-05], ['Careers_and_Jobs_Negative', 'ontsagwekkende', 0.0067685571386599365], ['Careers_and_Jobs_Positive', 'itzdivin', 4.8281797802799e-06], ['Careers_and_Jobs_Positive', 'RADIYAHBEGUM', 6.265783227612926e-08], ['Careers_and_Jobs_Positive', 'iameunisee', 3.05993850099986e-06], ['Careers_and_Jobs_Positive', 'KarylMitz', 1.6675262614410424e-05], ['Careers_and_Jobs_Positive', 'nrfdosmn', 1.1858392715003745e-05], ['Careers_and_Jobs_Positive', 'NickoCocks', 4.236794899733033e-05], ['Careers_and_Jobs_Positive', 'ihuijun_', 2.454096967119152e-05], ['Careers_and_Jobs_Negative', 'yazbanz', 0.004956612739510837], ['Careers_and_Jobs_Positive', 'ItsJustJayxo', 1.0319438297321492e-05], ['Tweets_About_Love_Positive', 'praveshoo8', 0.0012714783784864394], ['Tweets_About_Love_Positive', 'MsBonVivantSG', 0.0011631930612438866], ['Tweets_About_Love_Positive', 'Hiroyukichige', 0.00024255873209336133], ['Tweets_About_Love_Positive', 'Farna', 0.0009235624368080797], ['Tweets_About_Love_Positive', 'ZulsubvertHQ', 0.0009343591984580699], ['Tweets_About_Love_Positive', 'Holrr_app', 0.005350115116451032], ['Tweets_About_Love_Positive', 'Irfvvns', 0.0006622034782173237], ['Tweets_About_Love_Positive', 'ontsagwekkende', 0.0006413016123359935], ['Tweets_About_Love_Positive', 'enjYUNHYEONG', 0.0006060018233588018], ['Tweets_About_Love_Positive', 'itzdivin', 0.00246096049619133], ['Tweets_About_Love_Positive', 'RADIYAHBEGUM', 0.0024948231303004932], ['Tweets_About_Love_Positive', 'iameunisee', 0.003278430115054255], ['Tweets_About_Love_Positive', 'KarylMitz', 0.00018108292942549308], ['Tweets_About_Love_Positive', 'ihuijun_', 7.800523234398281e-05], ['Tweets_About_Love_Positive', 'yazbanz', 0.00032276219140680413], ['Tweets_About_Love_Positive', 'Priyalingamm', 2.7588757180068767e-05], ['Tweets_About_Life_Events_Positive', 'praveshoo8', 0.0059555436998355565], ['Tweets_About_Life_Events_Positive', 'MsBonVivantSG', 0.002614355002437084], ['Tweets_About_Life_Events_Positive', 'Hiroyukichige', 0.004356430656510289], ['Tweets_About_Life_Events_Positive', 'zafarafaz', 0.0013187366452880314], ['Tweets_About_Life_Events_Positive', 'aliazainddn', 0.0003071610479246684], ['Tweets_About_Life_Events_Positive', 'Farna', 0.00457658474422779], ['Tweets_About_Life_Events_Positive', 'ZulsubvertHQ', 0.0023942832275481514], ['Tweets_About_Life_Events_Positive', 'Holrr_app', 0.006029207334187184], ['Tweets_About_Life_Events_Positive', 'Irfvvns', 0.001288290178136308], ['Tweets_About_Life_Events_Positive', 'ontsagwekkende', 0.00027629978511934565], ['Tweets_About_Life_Events_Positive', 'enjYUNHYEONG', 0.0014800126063744025], ['Tweets_About_Life_Events_Positive', 'itzdivin', 0.003264296953427385], ['Tweets_About_Life_Events_Positive', 'RADIYAHBEGUM', 0.005923812420392153], ['Tweets_About_Life_Events_Negative', 'iameunisee', 0.0005237764770928587], ['Tweets_About_Life_Events_Positive', 'KarylMitz', 0.0025324594985397537], ['Tweets_About_Life_Events_Positive', 'nrfdosmn', 0.0006507450784022468], ['Tweets_About_Life_Events_Positive', 'NickoCocks', 0.0019469399848258933], ['Tweets_About_Life_Events_Negative', 'ihuijun_', 0.00022367717688236992], ['Tweets_About_Life_Events_Positive', 'yazbanz', 0.00021839641723899792], ['Tweets_About_Life_Events_Positive', 'NizamZorro', 0.003577052620165893], ['Tweets_About_Life_Events_Positive', 'Priyalingamm', 0.0014685152275444127], ['Tweets_About_Life_Events_Positive', 'ItsJustJayxo', 0.0035051380150786697], ['Tweets_About_Life_Events_Negative', 'VELCHEWx', 0.0020803700463019807], ['Tweets_About_Life_Events_Negative', 'jasmicorn', 0.0001273861030188424], ['Clubing_and_Dancing_Positive', 'yazbanz', 8.801789689345472e-05], ['Entertainment_and_Photography_Positive', 'MsBonVivantSG', 0.0005343464789979222], ['Entertainment_and_Photography_Positive', 'aliazainddn', 0.00014366227957091914], ['Entertainment_and_Photography_Negative', 'Farna', 0.0003779833636400029], ['Entertainment_and_Photography_Positive', 'RADIYAHBEGUM', 1.6442877508959918e-05], ['Entertainment_and_Photography_Positive', 'KarylMitz', 0.007462148732123039], ['Entertainment_and_Photography_Negative', 'NizamZorro', 0.0017555574410028064], ['Birthdays_and_Anniversaries_Positive', 'praveshoo8', 4.493968969470398e-06], ['Birthdays_and_Anniversaries_Positive', 'zafarafaz', 0.006811984452956693], ['Birthdays_and_Anniversaries_Positive', 'ZulsubvertHQ', 7.285089074002267e-06], ['Birthdays_and_Anniversaries_Positive', 'Holrr_app', 0.00031952825144018174], ['Birthdays_and_Anniversaries_Positive', 'ontsagwekkende', 8.149813652923811e-05], ['Birthdays_and_Anniversaries_Positive', 'iameunisee', 0.000375603308858352], ['Birthdays_and_Anniversaries_Positive', 'nrfdosmn', 0.006011132762934653], ['Birthdays_and_Anniversaries_Positive', 'ItsJustJayxo', 0.005066266971205094], ['Travelling_around_Singapore_Positive', 'zafarafaz', 0.00017197797554548998], ['Travelling_around_Singapore_Positive', 'Farna', 0.0006687821592395793], ['Travelling_around_Singapore_Positive', 'ZulsubvertHQ', 0.0008829641812598894], ['Travelling_around_Singapore_Negative', 'enjYUNHYEONG', 0.0028772527958306174], ['Travelling_around_Singapore_Negative', 'iameunisee', 0.0004676700564227479], ['Travelling_around_Singapore_Positive', 'NickoCocks', 0.004977843223714756], ['Travelling_around_Singapore_Positive', 'NizamZorro', 0.0017214874810277765], ['Travelling_around_Singapore_Negative', 'Priyalingamm', 0.000586320608637388], ['Travelling_around_Singapore_Negative', 'jasmicorn', 0.0013329333733355846], ['Everyday_Greetings_Positive', 'praveshoo8', 0.04083139859802138], ['Everyday_Greetings_Positive', 'MsBonVivantSG', 0.02977909549797797], ['Everyday_Greetings_Positive', 'Hiroyukichige', 0.033635038412095634], ['Everyday_Greetings_Positive', 'zafarafaz', 0.035328341634296566], ['Everyday_Greetings_Positive', 'aliazainddn', 0.013127720503377141], ['Everyday_Greetings_Positive', 'Farna', 0.044907774639416816], ['Everyday_Greetings_Positive', 'ZulsubvertHQ', 0.01635726651410788], ['Everyday_Greetings_Positive', 'Holrr_app', 0.0414661480915025], ['Everyday_Greetings_Positive', 'Irfvvns', 0.04977999809062576], ['Everyday_Greetings_Positive', 'ontsagwekkende', 0.035536615758273084], ['Everyday_Greetings_Positive', 'enjYUNHYEONG', 0.02446771698960689], ['Everyday_Greetings_Positive', 'itzdivin', 0.049029284797436665], ['Everyday_Greetings_Positive', 'RADIYAHBEGUM', 0.05293243866537948], ['Everyday_Greetings_Positive', 'iameunisee', 0.013484554210011173], ['Everyday_Greetings_Positive', 'KarylMitz', 0.02389874213040014], ['Everyday_Greetings_Positive', 'nrfdosmn', 0.034861372268128216], ['Everyday_Greetings_Positive', 'NickoCocks', 0.027157018710608632], ['Everyday_Greetings_Positive', 'ihuijun_', 0.07713713324555192], ['Everyday_Greetings_Positive', 'yazbanz', 0.01150494291370464], ['Everyday_Greetings_Positive', 'NizamZorro', 0.01608550375556558], ['Everyday_Greetings_Positive', 'Priyalingamm', 0.07160665922927469], ['Everyday_Greetings_Positive', 'ItsJustJayxo', 0.042906417162504734], ['Everyday_Greetings_Positive', 'VELCHEWx', 0.012756958509735454], ['Everyday_Greetings_Positive', 'jasmicorn', 0.04049459259164946]];

var color ={Birthdays_and_Anniversaries_Negative:"#8c001a", Birthdays_and_Anniversaries_Positive:"#8ca93e",Careers_and_Jobs_Negative:"#8c001a",Careers_and_Jobs_Positive: "#8ca93e",Clubing_and_Dancing_Negative:"8c001a",Clubing_and_Dancing_Positive:"#8ca93e",Entertainment_and_Photography_Negative:"#8c001a",Entertainment_and_Photography_Positive:"#8ca93e",Everyday_Greetings_Positive:"#8ca93e",Travelling_around_Singapore_Negative:"#8c001a",Travelling_around_Singapore_Positive:"#8ca93e",Tweets_About_Life_Events_Negative:"#8c001a",Tweets_About_Life_Events_Positive:"#8ca93e",Tweets_About_Love_Negative:"#8c001a",Tweets_About_Love_Positive:"#8ca93e"};
var svg = d3.select("body").append("svg").attr("width", 800).attr("height", 450);
var g = svg.append("g").attr("transform","translate(300,0)");

var bp=viz.bP()
		.data(data)
		.min(10)
		.pad(1)
		.height(450)
		.width(300)
		.barSize(35)
		.fill(d=>color[d.primary]);
			
g.call(bp);

g.selectAll(".mainBars")
	.on("mouseover",mouseover)
	.on("mouseout",mouseout)

g.selectAll(".mainBars").append("text").attr("class","label")
	.attr("x",d=>(d.part=="primary"? -40: 40))
	.attr("y",d=>+6)
	.text(d=>d.key)
	.attr("text-anchor",d=>(d.part=="primary"? "end": "start"));
	
g.selectAll(".mainBars").append("text").attr("class","perc")
	.attr("x",d=>(d.part=="primary"? -280: 180))
	.attr("y",d=>+6)
	.text(function(d){ return d3.format("0.0%")(d.percent)})
	.attr("text-anchor",d=>(d.part=="primary"? "end": "start"));

function mouseover(d){
	bp.mouseover(d);
	g.selectAll(".mainBars")
	.select(".perc")
	.text(function(d){ return d3.format("0.0%")(d.percent)})
}
function mouseout(d){
	bp.mouseout(d);
	g.selectAll(".mainBars")
		.select(".perc")
	.text(function(d){ return d3.format("0.0%")(d.percent)})
}
d3.select(self.frameElement).style("height", "450px");
</script>
</body>
</html>